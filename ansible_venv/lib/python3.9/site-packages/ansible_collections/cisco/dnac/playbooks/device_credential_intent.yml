- hosts: dnac_servers
  vars_files:
    - credentials_245.yml
  gather_facts: no
  connection: local
  tasks:
#
# Project Info  Section
#

    - name: Create Credentials and assign it to a site.
      cisco.dnac.device_credential_intent:
        dnac_host: "{{ dnac_host }}"
        dnac_port: "{{ dnac_port }}"
        dnac_username: "{{ dnac_username }}"
        dnac_password: "{{ dnac_password }}"
        dnac_verify: "{{ dnac_verify }}"
        dnac_debug: "{{ dnac_debug }}"
        dnac_log: True
        state: merged
        config:
        - GlobalCredentialDetails:
            cliCredential:
            - description: CLI
              username: cli
              password: "12345"
              enablePassword: "12345"
              # old_description:
              # old_username:
              # id: e448ea13-4de0-406b-bc6e-f72b57ed6746 # Use this for updation or deletion
            snmpV2cRead:
            - description: SNMPv2c Read # use this for deletion
              readCommunity: "12345"
              # old_description: # use this for updating the description
              # id: 0ee7d677-8804-43f2-8b6c-599c5f18348f # Use this for updation or deletion
            snmpV2cWrite:
            - description: SNMPv2c Write # use this for deletion
              writeCommunity: "12345"
              # old_description: # use this for updating the description
              # id: a96abc1b-1fd6-41f1-8a6d-a5569c17262d # Use this for updation or deletion
            snmpV3:
            - authPassword: "12345678" # Atleast 8 characters
              authType: SHA # [SHA, MD5] (SHA is recommended)
              snmpMode: AUTHPRIV # [AUTHPRIV, AUTHNOPRIV, NOAUTHNOPRIV]
              privacyPassword: "12345678" # Atleast 8 characters
              privacyType: AES128 # [AE128, AE192, AE256]
              username: snmpV3
              description: snmpV3
              # old_description:
              # id: d8974823-250a-41b0-8c9b-b27b2ae01472 # Use this for updation or deletion
            httpsRead:
            - description: HTTP Read
              username: HTTP_Read
              password: "12345"
              port: 443
              # old_description:
              # old_username:
              # id: a7ef9995-e404-4240-94ca-b5f37f65c19d # Use this for updation or deletion
            httpsWrite:
            - description: HTTP Write
              username: HTTP_Write
              password: "12345"
              port: 443
              # old_description:
              # old_username:
              # id: bec9818e-30cd-468b-bf75-292beefc2e20 # Use this for updation or deletion
          AssignCredentialsToSite:
            # cliDescription:
            # cliUsername:
            cliId: e448ea13-4de0-406b-bc6e-f72b57ed6746
            # snmpV2ReadDescription:
            snmpV2ReadId: 0ee7d677-8804-43f2-8b6c-599c5f18348f
            # snmpV2WriteDescription:
            snmpV2WriteId: a96abc1b-1fd6-41f1-8a6d-a5569c17262d
            # snmpV3Description:
            snmpV3Id: d8974823-250a-41b0-8c9b-b27b2ae01472
            # httpReadDescription:
            # httpReadUsername:
            httpRead: d5d7af00-5a38-4ac1-9f55-03338d00c415
            # httpWriteDescription:
            # httpWriteUsername:
            httpWrite: bec9818e-30cd-468b-bf75-292beefc2e20
            siteName:
            - Global/Chennai/Trill
            - Global/Chennai/Tidel
